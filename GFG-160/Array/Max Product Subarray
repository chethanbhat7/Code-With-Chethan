class Solution:
	def maxProduct(self,arr):
		n=len(arr)
		max_pr=min_pr=res=arr[0]
		
		for i in range(1,n):
		    curr=arr[i]
		    
		    if curr<0:
		        max_pr,min_pr=min_pr,max_pr
		    max_pr=max(curr,curr*max_pr)
		    min_pr=min(curr,curr*min_pr)
		    
		    res=max(res,max_pr)
		return res
